/*! ovh-angular-pagination-front - 5.0.0 - 2017-06-23 */
angular.module("ovh-angular-pagination-front",["ui.bootstrap"]),angular.module("ovh-angular-pagination-front").directive("paginationFront",["$q",function(a){"use strict";return{restrict:"A",templateUrl:"ovh-angular-pagination-front.html",replace:!1,transclude:!0,scope:{items:"=",fakeCurrentPage:"=?currentPage",numPages:"=?nbPages",itemsPerPage:"=",refresh:"=?",paginatedItems:"=",pagePlaceholder:"@",itemPerPagePlaceholder:"@",onPageChange:"&",transformItem:"&?",onTransformItemGetPromise:"&",onTransformItemDone:"&",onTransformItemNotify:"&",goToPage:"@"},link:function(b){b.fakeCurrentPage?(b.currentPage=b.fakeCurrentPage,b.$watch("fakeCurrentPage",function(a){a&&a<=b.numPages&&(b.currentPage=a)})):b.currentPage=1,localStorage&&localStorage.getItem("pagination_front_items_per_page")?b.itemsPerPage=localStorage.getItem("pagination_front_items_per_page"):b.itemsPerPage||(b.itemsPerPage=10),b.maxSize=5;var c=function(c){var d={},e=a.all(c.map(function(c){return a.when(b.transformItem({item:c})).then(function(a){return b.onTransformItemNotify({item:a}),a})["catch"](function(){return d})})).then(function(a){return a=a.filter(function(a){return a!==d}),b.onTransformItemDone({items:a}),a});return b.onTransformItemGetPromise({promise:e}),e},d=function(){if(b.arrayItems){b.paginatedItems=[];var a=(b.currentPage-1)*b.itemsPerPage,d=b.itemsPerPage*b.currentPage,e=[];d>b.totalItems&&(d=b.totalItems),a<0&&(a=0);for(var f=a;f<d;f++)e.push(angular.copy(b.arrayItems[f]));b.transformItem?c(e).then(function(a){b.paginatedItems=a}):b.paginatedItems=e,b.onPageChange({items:b.paginatedItems})}},e=function(a){return!isNaN(a)&&parseInt(Number(a),10)===a&&!isNaN(parseInt(a,10))};b.$watch("items",function(a){void 0!==a&&(angular.isObject(a)&&!angular.isArray(a)?b.arrayItems=_.toArray(b.items):b.arrayItems=b.items,b.arrayItems=b.arrayItems||[],b.totalItems=b.arrayItems.length,d())},!0),b.$watch("currentPage",function(a){e(a)&&(d(),b.fakeCurrentPage=a)}),b.changePage=function(){parseInt(b.goPage,10)&&(b.goPage?b.goPage>b.numPages?b.currentPage=b.numPages:b.currentPage=b.goPage:b.currentPage=1)},b.changePageKeyPress=function(a){13===a.keyCode&&(b.goPage=null)},b.$watch("itemsPerPage",function(a){void 0!==a&&(localStorage&&localStorage.setItem("pagination_front_items_per_page",a),d())}),b.$watch("refresh",function(){d()})}}}]),angular.module("ovh-angular-pagination-front").run(["$templateCache",function(a){"use strict";a.put("ovh-angular-pagination-front.html",'<div class=pagination-container><ul uib-pagination class=pagination-sm data-total-items=totalItems data-max-size=maxSize data-boundary-links=true data-rotate=false data-num-pages=numPages data-items-per-page=itemsPerPage data-ng-model=currentPage data-previous-text=&lsaquo; data-next-text=&rsaquo; data-first-text=&laquo; data-last-text=&raquo;></ul><input class="pagination-page-input pull-right" data-ng-show="goToPage !== \'false\'" name=currentPageInput type=number min=1 data-ng-model=goPage data-ng-model-options="{ debounce: {\'default\': 500} }" data-ng-change=changePage() data-ng-blur="goPage = null" data-ng-keypress=changePageKeyPress($event); placeholder={{pagePlaceholder}}><select class="pagination-page-size pull-right" data-ng-show="goToPage !== \'false\'" name=itemsPerPageSelect data-ng-model=itemsPerPage data-ng-options="size for size in [5, 10, 20, 40, 80, 100]"><option value="" disabled data-ng-bind=itemPerPagePlaceholder selected></option></select></div>')}]);